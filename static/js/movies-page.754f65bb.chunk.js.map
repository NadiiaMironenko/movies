{"version":3,"sources":["Services/fetch.js","components/MoviesItems.js","components/SearchForm.js","views/MoviesPage.js"],"names":["BASE_URL","key","FetchAll","axios","get","FetchByName","name","FetchMovieDetails","id","FetchDetailsCasts","then","res","data","FetchDetailsReviews","MoviesListItems","films","location","console","log","map","popular","popularity","poster_path","title","to","pathname","state","from","src","alt","SearchForm","onSubmit","event","preventDefault","trim","props","swal","text","icon","handleInput","Event","setState","target","value","toLowerCase","this","type","onChange","Component","MoviesPage","status","onHandleSubmit","query","search","split","results","prevProps","prevState","history","push","match","url"],"mappings":"yIAAA,+LAEMA,EAAW,+BACXC,EAAM,mCAEZ,SAASC,IACP,OAAOC,IAAMC,IAAN,UAAaJ,EAAb,uCAAoDC,IAG7D,SAASI,EAAYC,GACnB,OAAOH,IAAMC,IAAN,UAAaJ,EAAb,iCAA8CC,EAA9C,kBAA2DK,IAGpE,SAASC,EAAkBC,GACzB,OAAOL,IAAMC,IAAN,UAAaJ,EAAb,kBAA+BQ,EAA/B,oBAA6CP,IAGtD,SAASQ,EAAkBD,GACzB,OAAOL,IACJC,IADI,UACGJ,EADH,kBACqBQ,EADrB,4BAC2CP,IAC/CS,MAAK,SAACC,GAAD,OAASA,EAAIC,QAGvB,SAASC,EAAoBL,GAC3B,OAAOL,IACJC,IADI,UACGJ,EADH,kBACqBQ,EADrB,4BAC2CP,IAC/CS,MAAK,SAACC,GAAD,OAASA,EAAIC,U,gCC1BvB,oDACe,SAASE,EAAT,GAA+C,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SAE/C,OADAC,QAAQC,IAAIF,GAEV,6BACGD,EAAMI,KAAI,SAACC,GAAa,IACfZ,EAAuCY,EAAvCZ,GAAIa,EAAmCD,EAAnCC,WAAYC,EAAuBF,EAAvBE,YAAaC,EAAUH,EAAVG,MACrC,OACE,6BACE,eAAC,IAAD,CAAMC,GAAI,CAAEC,SAAS,WAAD,OAAajB,GAAMkB,MAAO,CAAEC,KAAMX,IAAtD,UACE,qBACEY,IAAG,6CAAwCN,GAC3CO,IAAI,KAEN,6BAAKN,IACL,yCAAYF,SAPPb,U,kJCJEsB,E,4MACnBJ,MAAQ,CACNpB,KAAM,I,EAGRyB,SAAW,SAACC,GACVA,EAAMC,iBACuB,KAAzB,EAAKP,MAAMpB,KAAK4B,KASpB,EAAKC,MAAMJ,SAAS,EAAKL,MAAMpB,MAR7B8B,IAAK,CACHb,MAAO,QACPc,KAAM,mBACNC,KAAM,W,EAQZC,YAAc,SAACC,GACb,EAAKC,SAAS,CAAEnC,KAAMkC,EAAME,OAAOC,MAAMC,iB,4CAG3C,WACE,OACE,mCACE,uBAAMb,SAAUc,KAAKd,SAArB,UACE,yDAEE,uBAAOe,KAAK,OAAOC,SAAUF,KAAKN,iBAEpC,wBAAQO,KAAK,SAAb,6B,GA/B8BE,a,gBCEnBC,E,4MACnBvB,MAAQ,CACNX,MAAO,GACPT,KAAM,GACN4C,OAAQ,Q,EAyBVC,eAAiB,SAAC7C,GAChB,EAAKmC,SAAS,CAAEnC,U,uDAxBlB,WAAqB,IAAD,OACZ8C,EAAQP,KAAKV,MAAMnB,SAASqC,OAAOC,MAAM,KAAK,GAE/CF,GAIL/C,YAAY+C,GAAO1C,MAAK,SAACC,GACvB,EAAK8B,SAAS,CAAE1B,MAAOJ,EAAIC,KAAK2C,QAASL,OAAQ,iB,gCAIrD,SAAmBM,EAAWC,GAAY,IAAD,OACnCA,EAAUnD,OAASuC,KAAKnB,MAAMpB,MAChCD,YAAYwC,KAAKnB,MAAMpB,MAAMI,MAAK,SAACC,GACjC,EAAK8B,SAAS,CAAE1B,MAAOJ,EAAIC,KAAK2C,QAASL,OAAQ,YACjD,EAAKf,MAAMuB,QAAQC,KAAnB,UACK,EAAKxB,MAAMyB,MAAMC,IADtB,kBACmC,EAAKnC,MAAMpB,Y,oBAUpD,WAAU,IACAS,EAAU8B,KAAKnB,MAAfX,MAER,OACE,qCACE,cAAC,EAAD,CAAYgB,SAAUc,KAAKM,iBAC3B,cAAC,IAAD,CAAiBnC,SAAU6B,KAAKV,MAAMnB,SAAUD,MAAOA,W,GAvCvBiC","file":"static/js/movies-page.754f65bb.chunk.js","sourcesContent":["import axios from \"axios\";\r\n\r\nconst BASE_URL = \"https://api.themoviedb.org/3\";\r\nconst key = \"3860fcb92da4251802f0dff28fa48025\";\r\n\r\nfunction FetchAll() {\r\n  return axios.get(`${BASE_URL}/trending/movie/day?api_key=${key}`);\r\n}\r\n\r\nfunction FetchByName(name) {\r\n  return axios.get(`${BASE_URL}/search/movie?api_key=${key}&query=${name}`);\r\n}\r\n\r\nfunction FetchMovieDetails(id) {\r\n  return axios.get(`${BASE_URL}/movie/${id}?api_key=${key}`);\r\n}\r\n\r\nfunction FetchDetailsCasts(id) {\r\n  return axios\r\n    .get(`${BASE_URL}/movie/${id}/credits?api_key=${key}`)\r\n    .then((res) => res.data);\r\n}\r\n\r\nfunction FetchDetailsReviews(id) {\r\n  return axios\r\n    .get(`${BASE_URL}/movie/${id}/reviews?api_key=${key}`)\r\n    .then((res) => res.data);\r\n}\r\n\r\nexport {\r\n  FetchAll,\r\n  FetchByName,\r\n  FetchMovieDetails,\r\n  FetchDetailsCasts,\r\n  FetchDetailsReviews,\r\n};\r\n","import { Link } from \"react-router-dom\";\r\nexport default function MoviesListItems({ films, location }) {\r\n  console.log(location);\r\n  return (\r\n    <ul>\r\n      {films.map((popular) => {\r\n        const { id, popularity, poster_path, title } = popular;\r\n        return (\r\n          <li key={id}>\r\n            <Link to={{ pathname: `/movies/${id}`, state: { from: location } }}>\r\n              <img\r\n                src={`https://image.tmdb.org/t/p/original${poster_path}`}\r\n                alt=\"\"\r\n              ></img>\r\n              <h2>{title}</h2>\r\n              <p>Rating: {popularity}</p>\r\n            </Link>\r\n          </li>\r\n        );\r\n      })}\r\n    </ul>\r\n  );\r\n}","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport swal from \"sweetalert\";\r\n\r\nexport default class SearchForm extends Component {\r\n  state = {\r\n    name: \"\",\r\n  };\r\n\r\n  onSubmit = (event) => {\r\n    event.preventDefault();\r\n    if (this.state.name.trim === \"\") {\r\n      swal({\r\n        title: \"error\",\r\n        text: \"Write your query\",\r\n        icon: \"error\",\r\n      });\r\n      return;\r\n    }\r\n\r\n    this.props.onSubmit(this.state.name);\r\n  };\r\n\r\n  handleInput = (Event) => {\r\n    this.setState({ name: Event.target.value.toLowerCase() });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <form onSubmit={this.onSubmit}>\r\n          <label>\r\n            Enter the films name\r\n            <input type=\"text\" onChange={this.handleInput} />\r\n          </label>\r\n          <button type=\"submit\">Search</button>\r\n        </form>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nSearchForm.propTypes = {\r\n  value: PropTypes.string,\r\n};\r\n","import React, { Component } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport SearchForm from \"../components/SearchForm\";\r\nimport { FetchByName } from \"../Services/fetch\";\r\nimport MoviesListItems from \"../components/MoviesItems\";\r\n\r\nexport default class MoviesPage extends Component {\r\n  state = {\r\n    films: [],\r\n    name: \"\",\r\n    status: \"idle\",\r\n  };\r\n  componentDidMount() {\r\n    const query = this.props.location.search.split(\"=\")[1];\r\n\r\n    if (!query) {\r\n      return;\r\n    }\r\n\r\n    FetchByName(query).then((res) => {\r\n      this.setState({ films: res.data.results, status: \"resolve\" });\r\n    });\r\n  }\r\n\r\n  componentDidUpdate(prevProps, prevState) {\r\n    if (prevState.name !== this.state.name) {\r\n      FetchByName(this.state.name).then((res) => {\r\n        this.setState({ films: res.data.results, status: \"resolve\" });\r\n        this.props.history.push(\r\n          `${this.props.match.url}?query=${this.state.name}`\r\n        );\r\n      });\r\n    }\r\n  }\r\n\r\n  onHandleSubmit = (name) => {\r\n    this.setState({ name });\r\n  };\r\n\r\n  render() {\r\n    const { films } = this.state;\r\n\r\n    return (\r\n      <>\r\n        <SearchForm onSubmit={this.onHandleSubmit} />\r\n        <MoviesListItems location={this.props.location} films={films} />\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nMoviesPage.propTypes = {\r\n  films: PropTypes.array,\r\n  name: PropTypes.string,\r\n  status: PropTypes.string,\r\n};\r\n"],"sourceRoot":""}